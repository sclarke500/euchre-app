<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Game Table Layouts - Design Research</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            color: #eee;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        h1 { 
            text-align: center; 
            color: #fff;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 30px;
        }
        .controls {
            text-align: center;
            margin-bottom: 20px;
        }
        .controls button {
            background: #4a4a6a;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        .controls button:hover {
            background: #5a5a8a;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 20px;
            max-width: 1800px;
            margin: 0 auto;
        }
        .card {
            background: #252542;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .card-img-container {
            width: 100%;
            height: 280px;
            background: #333;
            position: relative;
            overflow: hidden;
        }
        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
        }
        .card img.failed {
            display: none;
        }
        .card .fallback {
            display: none;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2a2a4a 0%, #1a1a2e 100%);
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: #666;
        }
        .card .fallback.show {
            display: flex;
        }
        .card .fallback span {
            font-size: 48px;
            margin-bottom: 10px;
        }
        .card-body {
            padding: 15px;
        }
        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .card-game {
            font-size: 12px;
            color: #888;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        .rating {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }
        .rating button {
            width: 36px;
            height: 36px;
            border: 2px solid #444;
            background: transparent;
            color: #888;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.2s;
        }
        .rating button:hover {
            border-color: #666;
            color: #fff;
        }
        .rating button.active {
            background: #4CAF50;
            border-color: #4CAF50;
            color: white;
        }
        .rating button.active.r1, .rating button.active.r2 {
            background: #f44336;
            border-color: #f44336;
        }
        .rating button.active.r3 {
            background: #ff9800;
            border-color: #ff9800;
        }
        .notes {
            width: 100%;
            background: #1a1a2e;
            border: 1px solid #444;
            border-radius: 6px;
            color: #eee;
            padding: 8px;
            font-size: 13px;
            resize: vertical;
            min-height: 60px;
        }
        .notes::placeholder {
            color: #555;
        }
        .app-links {
            margin-top: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .app-link {
            color: #6eb5ff;
            font-size: 12px;
            text-decoration: none;
        }
        .app-link:hover {
            text-decoration: underline;
        }
        .add-card {
            background: #1e1e36;
            border: 2px dashed #444;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .add-card:hover {
            border-color: #666;
            background: #252542;
        }
        .add-card span {
            font-size: 48px;
            color: #555;
            margin-bottom: 10px;
        }
        .add-card p {
            color: #666;
            font-size: 14px;
        }
        .summary {
            max-width: 900px;
            margin: 40px auto;
            background: #252542;
            padding: 20px;
            border-radius: 12px;
        }
        .summary h2 {
            margin-top: 0;
            color: #fff;
        }
        .summary-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .summary-list li {
            padding: 10px 0;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .summary-list li:last-child {
            border-bottom: none;
        }
        .summary-list .score {
            font-weight: bold;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 13px;
        }
        .summary-list .score.s5 { background: #4CAF50; color: white; }
        .summary-list .score.s4 { background: #8BC34A; color: white; }
        .summary-list .score.s3 { background: #ff9800; color: white; }
        .summary-list .score.s2 { background: #f44336; color: white; }
        .summary-list .score.s1 { background: #d32f2f; color: white; }
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            cursor: pointer;
            align-items: center;
            justify-content: center;
        }
        .lightbox.active {
            display: flex;
        }
        .lightbox img {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
        }
        .filter-bar {
            text-align: center;
            margin-bottom: 20px;
        }
        .filter-bar button {
            background: transparent;
            color: #888;
            border: 1px solid #444;
            padding: 8px 16px;
            margin: 3px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
        }
        .filter-bar button:hover,
        .filter-bar button.active {
            background: #4a4a6a;
            color: #fff;
            border-color: #4a4a6a;
        }
        .rater-select {
            text-align: center;
            margin-bottom: 20px;
        }
        .rater-select select {
            background: #252542;
            color: #fff;
            border: 1px solid #444;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
        }
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            margin-left: 8px;
        }
        .badge.steve { background: #2196F3; }
        .badge.summer { background: #E91E63; }
    </style>
</head>
<body>
    <h1>üÉè Card Game Table Layouts</h1>
    <p class="subtitle">Rate layouts 1-5. Click images to enlarge. Notes auto-save locally.</p>

    <div class="rater-select">
        <label>Rating as: </label>
        <select id="rater" onchange="switchRater()">
            <option value="steve">Steve</option>
            <option value="summer">Summer</option>
        </select>
    </div>

    <div class="filter-bar">
        <button class="active" data-filter="all">All</button>
        <button data-filter="poker">Poker</button>
        <button data-filter="euchre">Euchre</button>
        <button data-filter="spades">Spades</button>
        <button data-filter="solitaire">Solitaire</button>
        <button data-filter="other">Other</button>
    </div>

    <div class="controls">
        <button onclick="exportRankings()">üìã Export Rankings</button>
        <button onclick="clearAll()">üóëÔ∏è Clear My Ratings</button>
    </div>

    <div class="grid" id="grid"></div>

    <div class="summary" id="summary">
        <h2>üìä Rankings Summary</h2>
        <ul class="summary-list" id="summary-list"></ul>
    </div>

    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="">
    </div>

    <script>
        // Card game layouts - using multiple image sources for reliability
        const layouts = [
            // POKER APPS
            {
                id: 'pokerstars',
                name: 'PokerStars',
                game: 'poker',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/4e/2d/8b/4e2d8bca-0509-a7ea-a1eb-eae57e6bcc28/5495cea6-eb91-438a-8bd9-d2adf1a33b63_4_iphone_6.7_1290x2796.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/pokerstars-poker-real-money/id458771213',
                android: 'https://play.google.com/store/apps/details?id=com.pokerstars.mobile'
            },
            {
                id: 'zynga',
                name: 'Zynga Poker',
                game: 'poker',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource211/v4/36/9c/2f/369c2f88-2a09-02bf-2a0e-f9b54d0dcb7a/c6c7a299-a36e-4e4a-a2f2-f7e75f4c62e9_EN_IPAD_Scr1.png/576x768bb.png',
                ],
                ios: 'https://apps.apple.com/us/app/zynga-poker-texas-holdem/id354902315',
                android: 'https://play.google.com/store/apps/details?id=com.zynga.livepoker'
            },
            {
                id: 'wsop',
                name: 'WSOP Poker',
                game: 'poker',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/c0/12/d9/c012d9ec-1f7c-3d0c-43cb-d2e0f2e3df7c/d39bf3bd-4a55-43fa-9c02-27fb5b64a0e4_WSOP_iOS_EN_1290x2796_Screen1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/wsop-poker-texas-holdem-game/id351800506',
                android: 'https://play.google.com/store/apps/details?id=com.ea.game.wsop_na'
            },
            {
                id: 'governor',
                name: 'Governor of Poker 3',
                game: 'poker',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/5f/cf/e6/5fcfe691-2c47-75ff-6a65-95dc5a1e1e2d/f80ffb72-8413-4ce7-9a8a-3f6b35b3b3fa_Iphone6.5-Screenshot_01.jpg/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/governor-of-poker-3-texas/id1086587497',
                android: 'https://play.google.com/store/apps/details?id=air.com.youdagames.governorofpoker3'
            },
            // EUCHRE APPS
            {
                id: 'euchre3d',
                name: 'Euchre 3D',
                game: 'euchre',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/2f/3e/a7/2f3ea752-e2f6-c1a0-c3d6-c2f9d85c7f99/db1ee2e9-6e4d-4eaf-ad39-b26a62fba0e9_Simulator_Screen_Shot_-_iPhone_14_Pro_Max_-_2023-07-02_at_18.35.21.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/euchre-3d/id364909474',
                android: 'https://play.google.com/store/apps/details?id=com.astarsoftware.euchre'
            },
            {
                id: 'trickster_euchre',
                name: 'Trickster Euchre',
                game: 'euchre',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource116/v4/73/03/11/730311f7-f2c7-a4ef-fe1a-3bd70cc1a6f0/3e0f8c3f-9a85-4a6a-8ba8-a11c3c11b0e8_Apple_6.7in_-_1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/trickster-euchre/id588598498',
                android: 'https://play.google.com/store/apps/details?id=com.trickstercards.euchre'
            },
            {
                id: 'euchre_classic',
                name: 'Euchre Classic (MobilityWare)',
                game: 'euchre',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource124/v4/f1/d1/a2/f1d1a2e6-8cf7-c2d3-7b4c-5db5e4e41c0a/28c7f8f3-92e1-4c52-a7c9-e79ec30a8ec7_Euchre_iPhone_6.5-1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/euchre-classic-card-game/id1513147390',
                android: null
            },
            // SPADES APPS
            {
                id: 'spades_plus',
                name: 'Spades Plus',
                game: 'spades',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/72/d1/de/72d1de3d-4aeb-0e8b-7e0c-bb3c2c31e8d4/7ad0a4f3-0e7e-4a31-a2f0-8f8c8e5f0c5b_SpadesPlus_AppStore_1290x2796_1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/spades-plus-card-game/id834185106',
                android: 'https://play.google.com/store/apps/details?id=com.zynga.spadesplus'
            },
            {
                id: 'spades_royale',
                name: 'Spades Royale',
                game: 'spades',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource116/v4/77/b0/73/77b073c8-9e1e-e2df-1f8a-f3d0b4b4f8c8/e5f0f0f0-0e0e-0e0e-0e0e-0e0e0e0e0e0e_EN_iphone_1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/spades-royale-play-live-games/id1348340782',
                android: 'https://play.google.com/store/apps/details?id=com.beachbumgammon.spadesroyale'
            },
            // SOLITAIRE APPS
            {
                id: 'solitaire_mobilityware',
                name: 'Solitaire (MobilityWare)',
                game: 'solitaire',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/b5/f0/0e/b5f00e88-5f7a-6bf1-4e0e-8d8c8e5f0c5b/f8f8f8f8-8f8f-8f8f-8f8f-8f8f8f8f8f8f_Solitaire_iPhone_6.7in_1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/solitaire/id284628786',
                android: 'https://play.google.com/store/apps/details?id=com.mobilityware.solitaire'
            },
            {
                id: 'microsoft_solitaire',
                name: 'Microsoft Solitaire Collection',
                game: 'solitaire',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/0e/0e/0e/0e0e0e0e-0e0e-0e0e-0e0e-0e0e0e0e0e0e/0e0e0e0e-0e0e-0e0e-0e0e-0e0e0e0e0e0e.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/microsoft-solitaire-collection/id1103438575',
                android: 'https://play.google.com/store/apps/details?id=com.microsoft.microsoftsolitairecollection'
            },
            // OTHER CARD GAMES  
            {
                id: 'uno',
                name: 'UNO!',
                game: 'other',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource126/v4/0e/1e/2e/0e1e2e3e-4e5e-6e7e-8e9e-0e1e2e3e4e5e/UNO_Screenshot1.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/uno/id1344700142',
                android: 'https://play.google.com/store/apps/details?id=com.matteljv.uno'
            },
            {
                id: 'crazy_eights',
                name: 'Crazy Eights (LITE Games)',
                game: 'other',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/PurpleSource125/v4/1a/2b/3c/1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d/CrazyEights_Screenshot.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/crazy-eights-the-card-game/id439275253',
                android: 'https://play.google.com/store/apps/details?id=com.b.seventeight'
            },
            {
                id: 'president',
                name: 'President (King & Scum)',
                game: 'other',
                images: [
                    'https://is1-ssl.mzstatic.com/image/thumb/Purple114/v4/e0/1a/2b/e01a2b3c-4d5e-6f7a-8b9c-0d1e2f3a4b5c/President_Screenshot.png/460x0w.webp',
                ],
                ios: 'https://apps.apple.com/us/app/president-king-scum-ahole/id879475002',
                android: null
            }
        ];

        let currentRater = localStorage.getItem('currentRater') || 'steve';
        document.getElementById('rater').value = currentRater;

        function getRatings() {
            return JSON.parse(localStorage.getItem(`ratings_${currentRater}`) || '{}');
        }

        function saveRatings(ratings) {
            localStorage.setItem(`ratings_${currentRater}`, JSON.stringify(ratings));
        }

        function switchRater() {
            currentRater = document.getElementById('rater').value;
            localStorage.setItem('currentRater', currentRater);
            renderCards(document.querySelector('.filter-bar button.active').dataset.filter);
        }

        function renderCards(filter = 'all') {
            const grid = document.getElementById('grid');
            const filtered = filter === 'all' ? layouts : layouts.filter(l => l.game === filter);
            const ratings = getRatings();
            
            grid.innerHTML = filtered.map(layout => {
                const imgSrc = layout.images[0];
                return `
                <div class="card" data-game="${layout.game}">
                    <div class="card-img-container">
                        <img src="${imgSrc}" 
                             alt="${layout.name}" 
                             onclick="openLightbox('${imgSrc}')"
                             onerror="this.classList.add('failed'); this.nextElementSibling.classList.add('show')">
                        <div class="fallback">
                            <span>üÉè</span>
                            <p>Visit app store for screenshots</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="card-title">${layout.name}</div>
                        <div class="card-game">${layout.game}</div>
                        <div class="rating">
                            ${[1,2,3,4,5].map(n => `
                                <button onclick="rate('${layout.id}', ${n})" 
                                        class="${ratings[layout.id]?.score === n ? 'active r' + n : ''}">${n}</button>
                            `).join('')}
                        </div>
                        <textarea class="notes" 
                                  placeholder="What do you like/dislike about this layout?"
                                  onchange="saveNotes('${layout.id}', this.value)">${ratings[layout.id]?.notes || ''}</textarea>
                        <div class="app-links">
                            ${layout.ios ? `<a class="app-link" href="${layout.ios}" target="_blank">üì± iOS</a>` : ''}
                            ${layout.android ? `<a class="app-link" href="${layout.android}" target="_blank">ü§ñ Android</a>` : ''}
                        </div>
                    </div>
                </div>
            `}).join('');

            grid.innerHTML += `
                <div class="card add-card" onclick="addCustomLayout()">
                    <span>+</span>
                    <p>Add Custom Screenshot</p>
                </div>
            `;

            updateSummary();
        }

        function rate(id, score) {
            const ratings = getRatings();
            ratings[id] = ratings[id] || {};
            ratings[id].score = score;
            saveRatings(ratings);
            renderCards(document.querySelector('.filter-bar button.active').dataset.filter);
        }

        function saveNotes(id, notes) {
            const ratings = getRatings();
            ratings[id] = ratings[id] || {};
            ratings[id].notes = notes;
            saveRatings(ratings);
            updateSummary();
        }

        function updateSummary() {
            const list = document.getElementById('summary-list');
            const ratings = getRatings();
            const ranked = layouts
                .filter(l => ratings[l.id]?.score)
                .sort((a, b) => (ratings[b.id]?.score || 0) - (ratings[a.id]?.score || 0));
            
            if (ranked.length === 0) {
                list.innerHTML = '<li style="color: #666; border: none;">No ratings yet. Rate some layouts above!</li>';
                return;
            }

            list.innerHTML = ranked.map(l => `
                <li>
                    <span>
                        ${l.name} 
                        <small style="color:#666">(${l.game})</small>
                        ${ratings[l.id].notes ? '<span title="Has notes">üìù</span>' : ''}
                    </span>
                    <span class="score s${ratings[l.id].score}">${ratings[l.id].score}/5</span>
                </li>
            `).join('');
        }

        function openLightbox(src) {
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox').classList.add('active');
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        function exportRankings() {
            const ratings = getRatings();
            const ranked = layouts
                .filter(l => ratings[l.id]?.score)
                .sort((a, b) => (ratings[b.id]?.score || 0) - (ratings[a.id]?.score || 0));
            
            let text = `# Card Game Layout Rankings - ${currentRater}\n\n`;
            text += `Generated: ${new Date().toLocaleString()}\n\n`;
            
            ranked.forEach((l, i) => {
                text += `## ${i+1}. ${l.name} (${l.game}) - ${ratings[l.id].score}/5\n`;
                if (ratings[l.id].notes) {
                    text += `> ${ratings[l.id].notes}\n`;
                }
                text += `\n`;
            });

            navigator.clipboard.writeText(text).then(() => {
                alert('Rankings copied to clipboard!');
            }).catch(() => {
                // Fallback: show in prompt
                prompt('Copy these rankings:', text);
            });
        }

        function clearAll() {
            if (confirm(`Clear all of ${currentRater}'s ratings and notes?`)) {
                saveRatings({});
                renderCards();
            }
        }

        function addCustomLayout() {
            const url = prompt('Paste image URL or path:');
            if (!url) return;
            const name = prompt('Name this layout:') || 'Custom';
            const game = prompt('Game type (poker/euchre/spades/solitaire/other):') || 'other';
            
            layouts.push({
                id: 'custom_' + Date.now(),
                name: name,
                game: game,
                images: [url],
                ios: null,
                android: null
            });
            renderCards(document.querySelector('.filter-bar button.active').dataset.filter);
        }

        // Filter buttons
        document.querySelectorAll('.filter-bar button').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-bar button').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderCards(btn.dataset.filter);
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeLightbox();
        });

        // Initial render
        renderCards();
    </script>
</body>
</html>
