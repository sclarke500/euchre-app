<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Game Table Layouts - Design Research</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            color: #eee;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        h1 { text-align: center; color: #fff; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #888; margin-bottom: 30px; }
        .controls { text-align: center; margin-bottom: 20px; }
        .controls button {
            background: #4a4a6a;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        .controls button:hover { background: #5a5a8a; }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 20px;
            max-width: 1800px;
            margin: 0 auto;
        }
        .card {
            background: #252542;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            cursor: pointer;
            background: #333;
        }
        .card-body { padding: 15px; }
        .card-title { font-size: 18px; font-weight: 600; margin-bottom: 5px; }
        .card-meta { font-size: 12px; color: #888; margin-bottom: 10px; }
        .card-meta span { 
            display: inline-block; 
            background: #333; 
            padding: 2px 8px; 
            border-radius: 10px; 
            margin-right: 5px;
        }
        .card-meta .web { background: #2196F3; color: white; }
        .card-meta .native { background: #4CAF50; color: white; }
        .rating { display: flex; gap: 5px; margin-bottom: 10px; }
        .rating button {
            width: 40px;
            height: 40px;
            border: 2px solid #444;
            background: transparent;
            color: #888;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.2s;
        }
        .rating button:hover { border-color: #666; color: #fff; }
        .rating button.active { background: #4CAF50; border-color: #4CAF50; color: white; }
        .rating button.active.r1, .rating button.active.r2 { background: #f44336; border-color: #f44336; }
        .rating button.active.r3 { background: #ff9800; border-color: #ff9800; }
        .notes {
            width: 100%;
            background: #1a1a2e;
            border: 1px solid #444;
            border-radius: 6px;
            color: #eee;
            padding: 10px;
            font-size: 14px;
            resize: vertical;
            min-height: 70px;
        }
        .notes::placeholder { color: #555; }
        .app-link {
            display: inline-block;
            margin-top: 10px;
            color: #6eb5ff;
            font-size: 13px;
            text-decoration: none;
        }
        .app-link:hover { text-decoration: underline; }
        .summary {
            max-width: 900px;
            margin: 40px auto;
            background: #252542;
            padding: 25px;
            border-radius: 12px;
        }
        .summary h2 { margin-top: 0; color: #fff; }
        .summary-list { list-style: none; padding: 0; margin: 0; }
        .summary-list li {
            padding: 12px 0;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .summary-list li:last-child { border-bottom: none; }
        .summary-list .score {
            font-weight: bold;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 14px;
        }
        .summary-list .score.s5 { background: #4CAF50; color: white; }
        .summary-list .score.s4 { background: #8BC34A; color: white; }
        .summary-list .score.s3 { background: #ff9800; color: white; }
        .summary-list .score.s2 { background: #f44336; color: white; }
        .summary-list .score.s1 { background: #d32f2f; color: white; }
        .lightbox {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            cursor: pointer;
            align-items: center;
            justify-content: center;
        }
        .lightbox.active { display: flex; }
        .lightbox img { max-width: 95%; max-height: 95%; object-fit: contain; }
        .filter-bar { text-align: center; margin-bottom: 20px; }
        .filter-bar button {
            background: transparent;
            color: #888;
            border: 1px solid #444;
            padding: 8px 16px;
            margin: 3px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
        }
        .filter-bar button:hover, .filter-bar button.active {
            background: #4a4a6a;
            color: #fff;
            border-color: #4a4a6a;
        }
        .rater-select { text-align: center; margin-bottom: 20px; }
        .rater-select select {
            background: #252542;
            color: #fff;
            border: 1px solid #444;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>üÉè Card Game Table Layouts</h1>
    <p class="subtitle">Rate layouts 1-5. Click images to enlarge. Ratings save to your browser.</p>

    <div class="rater-select">
        <label>Rating as: </label>
        <select id="rater" onchange="switchRater()">
            <option value="steve">Steve</option>
            <option value="summer">Summer</option>
        </select>
    </div>

    <div class="filter-bar">
        <button class="active" data-filter="all">All</button>
        <button data-filter="euchre">Euchre</button>
        <button data-filter="poker">Poker</button>
        <button data-filter="spades">Spades</button>
        <button data-filter="hearts">Hearts</button>
        <button data-filter="solitaire">Solitaire</button>
        <button data-filter="other">Other</button>
    </div>

    <div class="controls">
        <button onclick="exportRankings()">üìã Export Rankings</button>
        <button onclick="clearAll()">üóëÔ∏è Clear My Ratings</button>
    </div>

    <div class="grid" id="grid"></div>

    <div class="summary" id="summary">
        <h2>üìä Rankings Summary</h2>
        <ul class="summary-list" id="summary-list"></ul>
    </div>

    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="">
    </div>

    <script>
        // Card game layouts with ACTUAL screenshots
        const layouts = [
            // EUCHRE - Web/HTML5
            {
                id: 'cardgames_io_euchre',
                name: 'CardGames.io - Euchre',
                game: 'euchre',
                type: 'web',
                img: 'screenshots/cardgames_io_euchre.gif',
                url: 'https://cardgames.io/euchre/',
                desc: 'Clean minimal design, classic green felt, simple UI'
            },
            {
                id: 'trickster_euchre',
                name: 'Trickster Cards - Euchre',
                game: 'euchre',
                type: 'web',
                img: 'screenshots/trickster_euchre.gif',
                url: 'https://www.trickstercards.com/games/euchre/',
                desc: 'Friend-focused, clean layout, customizable rules'
            },
            {
                id: 'wapo_euchre',
                name: 'Washington Post - Euchre',
                game: 'euchre',
                type: 'web',
                img: 'screenshots/wapo_euchre.gif',
                url: 'https://games.washingtonpost.com/games/euchre',
                desc: 'Modern design, multiple game modes'
            },

            // POKER - Web/HTML5
            {
                id: 'cardgames_io_poker',
                name: 'CardGames.io - Poker',
                game: 'poker',
                type: 'web',
                img: 'screenshots/cardgames_io_poker.gif',
                url: 'https://cardgames.io/poker/',
                desc: 'Simple Texas Holdem, minimal chrome'
            },
            {
                id: 'playok_poker',
                name: 'PlayOK - Poker',
                game: 'poker',
                type: 'web',
                img: 'screenshots/playok_poker.gif',
                url: 'https://www.playok.com/en/poker/',
                desc: 'Multiplayer focused, functional design'
            },

            // SPADES - Web/HTML5
            {
                id: 'cardgames_io_spades',
                name: 'CardGames.io - Spades',
                game: 'spades',
                type: 'web',
                img: 'screenshots/cardgames_io_spades.gif',
                url: 'https://cardgames.io/spades/',
                desc: 'Same clean style as their other games'
            },
            {
                id: '247_spades',
                name: '247 Spades',
                game: 'spades',
                type: 'web',
                img: 'screenshots/247_spades.gif',
                url: 'https://www.247spades.com/',
                desc: 'Dedicated spades site, multiple variants'
            },

            // HEARTS - Web/HTML5
            {
                id: 'cardgames_io_hearts',
                name: 'CardGames.io - Hearts',
                game: 'hearts',
                type: 'web',
                img: 'screenshots/cardgames_io_hearts.gif',
                url: 'https://cardgames.io/hearts/',
                desc: 'Classic hearts, consistent with their brand'
            },

            // SOLITAIRE - Web/HTML5
            {
                id: 'world_of_solitaire',
                name: 'World of Solitaire',
                game: 'solitaire',
                type: 'web',
                img: 'screenshots/world_of_solitaire.gif',
                url: 'https://worldofsolitaire.com/',
                desc: 'Huge variety, customizable, ad-free'
            },

            // OTHER GAMES - Web/HTML5
            {
                id: 'cardgames_io_crazy8s',
                name: 'CardGames.io - Crazy Eights',
                game: 'other',
                type: 'web',
                img: 'screenshots/cardgames_io_crazy8s.gif',
                url: 'https://cardgames.io/crazyeights/',
                desc: 'Simple matching game, clean execution'
            },
            {
                id: 'cardgames_io_president',
                name: 'CardGames.io - President',
                game: 'other',
                type: 'web',
                img: 'screenshots/cardgames_io_president.gif',
                url: 'https://cardgames.io/president/',
                desc: 'Card shedding game, same clean style'
            },
        ];

        let currentRater = localStorage.getItem('currentRater') || 'steve';
        document.getElementById('rater').value = currentRater;

        function getRatings() {
            return JSON.parse(localStorage.getItem(`ratings_${currentRater}`) || '{}');
        }
        function saveRatings(ratings) {
            localStorage.setItem(`ratings_${currentRater}`, JSON.stringify(ratings));
        }
        function switchRater() {
            currentRater = document.getElementById('rater').value;
            localStorage.setItem('currentRater', currentRater);
            renderCards(document.querySelector('.filter-bar button.active').dataset.filter);
        }

        function renderCards(filter = 'all') {
            const grid = document.getElementById('grid');
            const filtered = filter === 'all' ? layouts : layouts.filter(l => l.game === filter);
            const ratings = getRatings();
            
            grid.innerHTML = filtered.map(layout => `
                <div class="card" data-game="${layout.game}">
                    <img src="${layout.img}" 
                         alt="${layout.name}" 
                         onclick="openLightbox('${layout.img}')">
                    <div class="card-body">
                        <div class="card-title">${layout.name}</div>
                        <div class="card-meta">
                            <span class="${layout.type}">${layout.type === 'web' ? 'üåê HTML5/Web' : 'üì± Native App'}</span>
                            <span>${layout.game}</span>
                        </div>
                        <p style="color:#aaa; font-size:13px; margin:10px 0;">${layout.desc}</p>
                        <div class="rating">
                            ${[1,2,3,4,5].map(n => `
                                <button onclick="rate('${layout.id}', ${n})" 
                                        class="${ratings[layout.id]?.score === n ? 'active r' + n : ''}">${n}</button>
                            `).join('')}
                        </div>
                        <textarea class="notes" 
                                  placeholder="What works? What doesn't? Ideas to steal?"
                                  onchange="saveNotes('${layout.id}', this.value)">${ratings[layout.id]?.notes || ''}</textarea>
                        <a class="app-link" href="${layout.url}" target="_blank">üîó Try it live ‚Üí</a>
                    </div>
                </div>
            `).join('');

            updateSummary();
        }

        function rate(id, score) {
            const ratings = getRatings();
            ratings[id] = ratings[id] || {};
            ratings[id].score = score;
            saveRatings(ratings);
            renderCards(document.querySelector('.filter-bar button.active').dataset.filter);
        }

        function saveNotes(id, notes) {
            const ratings = getRatings();
            ratings[id] = ratings[id] || {};
            ratings[id].notes = notes;
            saveRatings(ratings);
            updateSummary();
        }

        function updateSummary() {
            const list = document.getElementById('summary-list');
            const ratings = getRatings();
            const ranked = layouts
                .filter(l => ratings[l.id]?.score)
                .sort((a, b) => (ratings[b.id]?.score || 0) - (ratings[a.id]?.score || 0));
            
            if (ranked.length === 0) {
                list.innerHTML = '<li style="color: #666; border: none;">No ratings yet. Rate some layouts above!</li>';
                return;
            }

            list.innerHTML = ranked.map(l => `
                <li>
                    <span>
                        ${l.name} 
                        <small style="color:#666">(${l.game})</small>
                        ${ratings[l.id].notes ? ' üìù' : ''}
                    </span>
                    <span class="score s${ratings[l.id].score}">${ratings[l.id].score}/5</span>
                </li>
            `).join('');
        }

        function openLightbox(src) {
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox').classList.add('active');
        }
        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        function exportRankings() {
            const ratings = getRatings();
            const ranked = layouts
                .filter(l => ratings[l.id]?.score)
                .sort((a, b) => (ratings[b.id]?.score || 0) - (ratings[a.id]?.score || 0));
            
            let text = `# Card Game Layout Rankings - ${currentRater}\n`;
            text += `Generated: ${new Date().toLocaleString()}\n\n`;
            
            ranked.forEach((l, i) => {
                text += `## ${i+1}. ${l.name} ‚Äî ${ratings[l.id].score}/5\n`;
                text += `Type: ${l.type} | Game: ${l.game}\n`;
                if (ratings[l.id].notes) {
                    text += `Notes: ${ratings[l.id].notes}\n`;
                }
                text += `URL: ${l.url}\n\n`;
            });

            navigator.clipboard.writeText(text).then(() => {
                alert('Rankings copied to clipboard!');
            }).catch(() => {
                prompt('Copy these rankings:', text);
            });
        }

        function clearAll() {
            if (confirm(`Clear all of ${currentRater}'s ratings?`)) {
                saveRatings({});
                renderCards();
            }
        }

        // Filter buttons
        document.querySelectorAll('.filter-bar button').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-bar button').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderCards(btn.dataset.filter);
            });
        });

        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeLightbox(); });
        renderCards();
    </script>
</body>
</html>
